<div class="page-title">
  <h3>ユーザー詳細</h3>
</div>

<div class="main user-show">
  <div class="container">
    <div class="users-show-item">
      <div class="user-image">
        <%= image_tag @user.avatar %>
      </div>
      <div class="user-name"> 
        <p><%= @user.name %></p>
      </div>
      <div class="token">
        <span class="fa-solid fa-coins"></span>
        <p>トークン数</p>
        <p><%= @user.token %></p>
      </div>
      <div class="evaluation">
        <span class="fa-solid fa-star"></span>
        <p>評価</p>
        <p><%= @user.evaluation %></p>
      </div>
      <% if @user.id == @current_user.id %>
        <div class="email">
          <p><%= @user.email %></p>
        </div>
        <div class="users-menus">
          <%= link_to '編集', edit_user_path, data: { turbo: false }, class: 'user-menu' %>
          <div class="user-menu" id="eliminate">
            退会
          </div>
        </div>
      <% end %>
    </div>
    
    <div class="users-show-item2">
      <% @user.posts.each do |post| %>
        <div class="posts-index-item2">
          <div class="posts-index-user-image2">
            <%= image_tag post.user.avatar %>
          </div>
          <div class="posts-index-user-name2">
            <%= post.user.name %>
          </div>
          <%= link_to "#{post.title}", "/posts/#{post.id}", data: { turbo: false }, class: "index-item3" %>
        </div>
      <% end %>
    </div>
    <div class="turn-back">
    <%= link_to '戻る', users_path, remote: false, class: 'return' %>
    </div>
  </div>
</div>

<div id="mask" class="hidden2"></div>

<section id="modal" class="hidden2">
  <p>本当に退会してもよろしいですか？</p>
  <div class="buttons">
    <div id="del" class="link_del">
      <%= link_to '退会', "/users/#{@user.id}", data: { turbo_method: :delete }, class: 'button2' %>
    </div>
    <div id="cancel" class="button1">
      中止
    </div>
  </div>
</section>